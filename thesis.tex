\def\thelstlisting{}
\documentclass[oneside,zh]{nctuthesis}
\usepackage{enumitem}
\usepackage{times}
\usepackage{verbatim}
\usepackage{color}
\usepackage{url}
\usepackage{graphicx}
\usepackage{array}
\usepackage{pdfpages} % include inserted .pdf to page no.
\usepackage{wallpaper} % watermark

% Format the refs
\usepackage[numbers]{natbib}
\usepackage[hidelinks]{hyperref}

% For Cross ref
\usepackage{xr}


% For the tree
\usepackage{tikz}
\usepackage{tikz-qtree}

% For code display
\usepackage{listings}

% For the APA table
\usepackage{adjustbox}
\usepackage{multirow,booktabs,setspace,caption}
\usepackage{rotating}
\usepackage{dcolumn}
\newcolumntype{z}{D{.}{.}{3}} % for decimal dot alignment

% For hyperlink
\usepackage{hyperref}

% For barchart
\usepackage{pgfplots}
\pgfplotsset{compat=1.12}

% For setting counters of figure and table
\usepackage{chngcntr}

% Using the tex-text mapping for ligatures etc.
\defaultfontfeatures{Mapping=tex-text}

% Set the default fonts
\setmainfont{Times New Roman}
\setCJKmainfont{TW-Kai} %modify for overleaf service

\newfontfamily{\ttconsolas}[Scale=0.8]{Consolas}

% Set source code listings
\renewcommand\lstlistingname{原始碼}

\makeatletter
\AtBeginDocument{
\renewcommand*{\lstlistlistingname}{原始碼目錄}
\counterwithout{lstlisting}{chapter}
}
\makeatother

\lstdefinestyle{custombash}{
  basicstyle=\linespread{.94}\ttconsolas,
  frame=single,
  belowcaptionskip=1\baselineskip,
  breaklines=true,
  xleftmargin=\parindent,
  showstringspaces=false,
  keywordstyle=\bfseries\color{green!40!black},
  commentstyle=\itshape\color{purple!40!black},
  identifierstyle=\color{blue},
  stringstyle=\color{orange},
  keepspaces=true,
  language=bash,
  numbers=left,
  numbersep=5pt,
  tabsize=2,
  captionpos=b
}

\lstset{escapechar=@,style=custombash}

% Your information goes here
\input{nctuvars.tex}

\begin{document}

% 論文浮水印 如需浮水印時取消此行註解
%\input{src/with-watermark.tex}

\hypersetup{pageanchor=false}

\frontmatter
\pagenumbering{gobble}

% 此處不自動產生交大封面改採插入pdf封面故註解
%\makecover

%以插入pdf檔方式加入封面及書名頁
\includepdf[pages={1}]{pdfs/cover.pdf}
\includepdf[pages={1}]{pdfs/first_page.pdf}

% 開始編羅馬數字頁碼
\clearpages
\setcounter{page}{1}
\hypersetup{pageanchor=true}
\pagenumbering{roman}
\phantomsection

%插入論文審定書 著作權審定書等等
\addcontentsline{toc}{chapter}{中文論文口試委員會審定書}
\includepdf[pages={1}, pagecommand={}]{pdfs/ch.pdf}
\addcontentsline{toc}{chapter}{Thesis Certificate}
\includepdf[pages={1}, pagecommand={}]{pdfs/en.pdf}
\addcontentsline{toc}{chapter}{論文著作權授權書}
\includepdf[pages={1}, pagecommand={}]{pdfs/copyright.pdf}

% 摘要 致謝
\input{abstract}
\input{acknowledgements}


% % Table of Content
\clearpages
\tableofcontents

% % List of Figures
\clearpages
\listoffigures

% % List of Tables
\clearpages
\listoftables

% % List of Listings
\clearpages
\lstlistoflistings

\mainmatter
% % tables and figures counter without chapter
\counterwithout{table}{chapter}
\counterwithout{figure}{chapter}

% Your thesis goes here
\input{chapters/introduction}
\input{chapters/background}
\input{chapters/motivation}
\input{chapters/related}
\input{chapters/method}
\input{chapters/experiment}
\input{chapters/conclusion}



\backmatter

\clearpages
\phantomsection
\addcontentsline{toc}{chapter}{\bibname}
\bibliographystyle{unsrtnat}

% Your bibliography goes here
\bibliography{thesis}
\@startappendix

% 交大圖書館規定附錄在參考文獻之後
\input{chapters/otherbib}
\end{document}
